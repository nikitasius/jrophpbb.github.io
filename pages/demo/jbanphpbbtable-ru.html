<html>
<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css">

    <!-- Optional theme -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/datatables/1.10.8/css/dataTables.bootstrap.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/datatables/1.10.8/js/jquery.dataTables.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/datatables/1.10.8/js/dataTables.bootstrap.min.js"></script>
</head>
<body>
<h3 align="center">Таблица банов форума<a href="http://example.com/forum" target="_blank">&nbsp;My Example Forum</a>
</h3>

<div align="center">
    Скрытие столбцов: <a class="toggle-vis" data-column="1">[Кто выдал]</a> -
    <a class="toggle-vis" data-column="2">[Кому выдали]</a> -
    <a class="toggle-vis" data-column="3">[Дата начала]</a> -
    <a class="toggle-vis" data-column="4">[Дата окончания]</a> -
    <a class="toggle-vis" data-column="5">[Причина]</a> - -
    <a onclick="resetTable();"><strong>СБРОС</strong></a>
</div>
<p style="font-size: small" align="center">(!) Изменения стуктуры страницы сохраняются в LocalStorage (скрытые столбцы,
    значения фильтра и т.д.) (!)</p>
<table id="jrophpbb-banned-users-table" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
    <tr>
        <th>#</th>
        <th>Кто выдал</th>
        <th>Кому выдали</th>
        <th>Дата начала</th>
        <th>Дата окончания</th>
        <th>Причина</th>
    </tr>
    </thead>
    <tfoot>
    <tr>
        <th>#</th>
        <th>Кто выдал</th>
        <th>Кому выдали</th>
        <th>Дата начала</th>
        <th>Дата окончания</th>
        <th>Причина</th>
    </tr>
    </tfoot>

    <tbody>
    <tr>
        <td>10</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=103" target="_blank">Annadak</a></td>
        <td>2016-09-20 21:48:58.0</td>
        <td>Бесконечно</td>
        <td>спам на форуме</td>
    </tr>
    <tr>
        <td>9</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=93" target="_blank">Martapa</a></td>
        <td>2016-09-06 07:36:42.0</td>
        <td>Бесконечно</td>
        <td>спам на форуме</td>
    </tr>
    <tr>
        <td>8</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=97" target="_blank">Jeremycar</a></td>
        <td>2016-08-24 12:37:12.0</td>
        <td>Бесконечно</td>
        <td>спам на форума</td>
    </tr>
    <tr>
        <td>7</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=92" target="_blank">AntonMl</a></td>
        <td>2016-04-12 20:49:06.0</td>
        <td>Бесконечно</td>
        <td>looks like spam</td>
    </tr>
    <tr>
        <td>6</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=88" target="_blank">AlbanecDub</a></td>
        <td>2016-01-26 19:40:54.0</td>
        <td>Бесконечно</td>
        <td>спам на форуме.</td>
    </tr>
    <tr>
        <td>5</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=90" target="_blank">Abar_pt</a></td>
        <td>2016-01-26 19:39:18.0</td>
        <td>Бесконечно</td>
        <td>спам на форуме.</td>
    </tr>
    <tr>
        <td>4</td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=2" target="_blank">nikitas</a></td>
        <td><a href="http://example.com/forum/memberlist.php?mode=viewprofile&u=70" target="_blank">Amurka-Cek</a></td>
        <td>2015-10-26 15:22:35.0</td>
        <td>Бесконечно</td>
        <td>спам на форуме.</td>
    </tr>
    </tbody>
</table>

<script type="text/javascript">
    $(document).ready(function () {
        var table = $('#jrophpbb-banned-users-table').DataTable({
            "bPaginate": true,
            "bLengthChange": true,
            "bFilter": true,
            "bSort": true,
            "bInfo": true,
            "bProcessing": true,
            "bStateSave": true,
            "bAutoWidth": true,
            "order": [
                [0, "desc"]
            ]
        });
        $('a.toggle-vis').on('click', function (e) {
            e.preventDefault();

            // Get the column API object
            var column = table.column($(this).attr('data-column'));

            // Toggle the visibility
            column.visible(!column.visible());
        });
    });
    function resetTable() {
        localStorage.removeItem('DataTables_jrophpbb-banned-users-table_/tools/showbanlist.html');
        location.reload();
    }
</script>
</body>
</html>